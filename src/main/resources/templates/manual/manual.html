<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Brain Flux</title>
<!-- Vendor styles -->
<link rel="stylesheet" href="/vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css">
<link rel="stylesheet" href="/vendors/bower_components/animate.css/animate.min.css">
<link rel="stylesheet" href="/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.css">
<link rel="icon" type="image/ico" href="/img/favicon.ico">

<!-- App styles -->
<link rel="stylesheet" href="/css/app.min.css">
<style>
.figure {
	text-align: center;
}
</style>
</head>

<body data-ma-theme="blue">
    <main class="main">
    <div th:insert="fragments/page-loader :: div"></div>
    <div th:insert="fragments/header :: header"></div>
    <div th:insert="fragments/sidebar :: aside"></div>

    <section class="content">
        <div class="content__inner">
            <!-- PUT THE MAIN CONTENT HERE -->
            <div class="card">
                <div class="card-body" style="margin: 0 150px">
                    <h2 id="brain-flux-user-manual-introduction">Brain Flux User Manual / Introduction</h2>
                    <p>
                        <strong>1. System Overview</strong>
                    </p>
                    <p>Brain Flux is a big data management and analysis system developed by the cooperation of School of Medicine and School of Computer and Information at University of
                        Pittsburgh. The goal of the system is to (1) persist brain signal data from medical practice in a large-scale data warehouse ultilized by time-series database, and, (2) use the
                        warehoused data for further R&amp;D tasks on both medical research and database techeniques improvement.</p>
                    <p>Users of this system should be able to perform the following tasks:</p>
                    <ul>
                        <li>
                            Import preprocessed time-series data into the data warehouse (
                            <a href="#section_3">Section 3</a>
                            )
                        </li>
                        <li>
                            Build complicated big data analysis queries with no requirement of technical background (
                            <a href="#section_4">Section 4</a>
                            )
                        </li>
                        <li>
                            Export results from previously built queries for further research (
                            <a href="#section_5">Section 5</a>
                            )
                        </li>
                    </ul>
                    <p>
                        <a name="section_2"></a>
                        <strong>2. Architechture</strong>
                    </p>
                    <p>
                        <strong>Computing resources</strong>
                        : The system uses on demand, distributed computing resources from Pittsburgh Supercomputing Center for ultilizing the main data warehouse. We also built up a local version of
                        the system with exactly the same funtionality but only a fraction of data stored on it. The local version runs on a single node and can be used to test the performance of our
                        algorithms and detect possible flaws in the system. Both versions of the system fully ultilize the multi-threading functionality of powerful computers for a boost of
                        performance.
                        <br />
                        <strong>Database</strong>
                        : Our choice of data warehouse is
                        <em>InfluxDB</em>
                        . InfluxDB is a state-of-the-art distributed time-series database with the capability of high speed read and write. All the other data, including meta-data of patients, queries
                        built by users, warehouse version log, etc., are stored in a separate
                        <em>MySQL</em>
                        database for easier management.
                        <br />
                        <strong>Interface</strong>
                        : The main user interface is a web based system writen in
                        <em>Java</em>
                        with
                        <em>Spring Framework</em>
                        .
                        <em>Grafana</em>
                        was used as the graphics tool on visualizing data from every level of the warehouse.
                    </p>
                    <p>
                        <img src="https://i.imgur.com/S3aBwqT.jpg" alt="Figure" width="600" />
                    </p>
                    <p>
                        <a name="section_3"></a>
                        <strong>3. Data Import</strong>
                    </p>
                    <p>
                        Users can import preprocessed data from the data import page. The preprocessed data is located on the same machine where the system is deployed. This implementation is to save
                        the time of transferring large amount of data (terabytes) before loading into the database. The data waiting to be imported could either be linked to a cluster with deployed
                        system physically with an external hard drive, or we can simply deploy to system to the cluster containing the data source. In the later case, the cluster just needs a high
                        speed internet connection and Java installed. The data warehouse, on the other hand, can be installed at any location, remotely or locally.
                        <br />
                        Users can search local file system for desired files to be imported. Upon clicking the import button, the selected files are added into a queue for a multi-thread import
                        process.
                    </p>
                    <div class="figure">
                        <img src="https://i.imgur.com/XOl7ffc.png" alt="Figure" width="600" />
                        <p class="caption">Figure</p>
                    </div>
                    <p>Multi-threaded data loading, in our case, gives approximately linear boost to the speed of the import processing. Considering the 36-core computer we used, when ultilizing
                        18 cores on threads that writes into the database, each core can contribute to loading 500 ~ 900 KB/s of the preprocessed files. We can load up to 16 MB of files, or about 2
                        million data points per second. In the setting of our data, patients' brain signal is recorded every second. The final preprocessed file has about 6,000 columns. That means we
                        have the potential to do real-time monitoring for more than 300 patients on a single node system.</p>
                    <p>
                        <strong>
                            <em>[Table placeholder for import performance]</em>
                        </strong>
                    </p>
                    <p>
                        <a name="section_4"></a>
                        <strong>4. Query Builder</strong>
                    </p>
                    <p>The query builder is the component of our system to help users with little technical background (medical experts), build up complex data analysis queries for the data
                        warehouse to process.</p>
                    <p>
                        <img src="https://i.imgur.com/Q5rkWN4.png" alt="Figure" width="600" />
                        <img src="https://i.imgur.com/qlbG2fF.png" alt="Figure" width="600" />
                    </p>
                    <p>
                        <a name="section_5"></a>
                        <strong>5. Data Analysis</strong>
                    </p>
                </div>
            </div>
            <div th:insert="fragments/footer :: footer"></div>
        </div>
    </section>
    </main>

    <div th:insert="fragments/ie-warning :: div"></div>
    <!-- Javascript -->
    <!-- Vendors -->
    <script src="/vendors/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/vendors/bower_components/tether/dist/js/tether.min.js"></script>
    <script src="/vendors/bower_components/popper.js/dist/umd/popper.min.js"></script>
    <script src="/vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.min.js"></script>
    <script src="/vendors/bower_components/jquery-scrollLock/jquery-scrollLock.min.js"></script>

    <!-- App functions and actions -->
    <script src="/js/navigation.js"></script>
    <script src="/js/app.min.js"></script>
</body>
</html>